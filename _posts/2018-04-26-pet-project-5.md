---
layout: post
title:  "Тренировочный pet-project #5. Окончание проектирования по описанию"
---
Добавил новый экшн `chats#messages`, который принимает токен чата и рендерит сообщения чата, отсортированные по времени, в JSON-формате.

В `chats.coffee` добавил AJAX-запрос на `chats#messages` для получения переписки. Переписка рендерится каждый раз заново каждые 5 секунд и каждый раз когда отправляется сообщение.

Добавил сообщение об отсутствии пустых чатов, если они не найдены после попытки коннекта к случайному пустому чату.

Покрыл тестами экшн `messages`.

При запуске полезно смотреть в консоль. Обнаружил, недочет. JS пытался каждые 5 секунд получить сообщения даже не находясь в чате.

Таким образом, приложение полностью соответствует описанию. Ждем проверки ментора.

Полезные ссылки:
[Convert JavaScript to CoffeeScript](http://js2.coffee/)
